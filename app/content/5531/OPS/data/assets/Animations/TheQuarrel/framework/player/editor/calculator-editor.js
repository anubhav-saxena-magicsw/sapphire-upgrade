define(["marionette","player/editor/base-editor"],function(t,a){var o;return o=a.extend({defaultCompData:{},componentHTMLDiv:void 0}),o.prototype.getComponent=function(t,a){this.isSimComp=a;var o=void 0!==t.data?t:$(t);this.componentHTMLDiv=o,t.data||t.attributes.defaultdata?this.createCompData(o):this.createComponent(this.componentHTMLDiv)},o.prototype.createCompData=function(t){this.prepareDefaultData(t,this.onDefaultDataCreationComplete,this)},o.prototype.onDefaultDataCreationComplete=function(t,a){t.defaultCompData=a,void 0!==t.defaultCompData.calculatorData?t.getCalculatorData():t.createComponent(t.componentHTMLDiv)},o.prototype.getCalculatorData=function(){var t=this;Data_Loader.on(Data_Loader.DATA_LOAD_SUCCESS,$.proxy(t.successHandler,t)),Data_Loader.on(Data_Loader.DATA_LOAD_FAILED,$.proxy(t.errorHandler,t)),Data_Loader.load({url:t.defaultCompData.calculatorData,dataType:"xml",contentType:"application/xml",returnType:"json",scope:t})},o.prototype.successHandler=function(t){Data_Loader.off(Data_Loader.DATA_LOAD_SUCCESS),Data_Loader.off(Data_Loader.DATA_LOAD_FAILED),this.defaultCompData.buttonCollection=t,this.createComponent(this.componentHTMLDiv)},o.prototype.errorHandler=function(){Data_Loader.off(Data_Loader.DATA_LOAD_SUCCESS),Data_Loader.off(Data_Loader.DATA_LOAD_FAILED)},o.prototype.onComponentCreationComplete=function(t){this.objComp=t,this.objComp.defaultData=this.defaultCompData,this.componentCreated()},o.prototype.destroy=function(){return o.__super__.destroy(!0,this)},o});