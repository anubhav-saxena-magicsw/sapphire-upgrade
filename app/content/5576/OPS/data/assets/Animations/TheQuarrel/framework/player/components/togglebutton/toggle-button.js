define(["marionette","player/base/base-item-comp","text!components/togglebutton/template/toggle-button.html","css!components/togglebutton/template/css/toggle-button.css","components/togglebutton/model/toggle-button-model"],function(e,t,o,s,l){var n=t.extend({template:_.template(o),tagName:"div",initialize:function(e){var t=this;void 0===t.model&&t.setModel(e),t.model instanceof l&&t.model.on("change",function(){t.onMyModelChange()}),$(t.el).addClass(t.model.get("normalClass"))},onRender:function(){var e=this;this.$el.off("click").on("click",$.proxy(e.compClick,e)),this.$el.off("mouseover").on("mouseover",$.proxy(e.compRollover,e)),this.$el.off("mouseout").on("mouseout",$.proxy(e.compRollout,e))},onMyModelChange:function(){var e=this;$(e.el).addClass(e.model.get("normalClass")),1===e.model.get("state")?$(e.el).addClass("active"):0===e.model.get("state")&&$(e.el).removeClass("active"),e.render()}});return n.prototype.setModel=function(e){var t=this;t.model=new l,void 0!==e.normalClass&&t.model.set("normalClass",e.normalClass),void 0!==e.label&&t.model.set("label",e.label),void 0!==e.state?t.model.set("state",e.state):t.model.set("state",0)},n.prototype.compClick=function(){this.model.get("shouldToggle")&&(this.isSelected()?this.setSelected(!1):this.setSelected(!0),this.customEventDispatcher(this.EVENTS.ON_CHANGE,this,this.model.get("state")))},n.prototype.__super__=t,n.prototype.EVENTS={ON_CHANGE:"CHANGED"},n.prototype.isSelected=function(){return 0===this.model.get("state")?!1:!0},n.prototype.setSelected=function(e){var t=this.model.get("state");0===t&&e===!0?this.model.set("state",1):1===t&&e===!1&&this.model.set("state",0)},n.prototype.setLabel=function(e){this.model.set("label",e)},n.prototype.getLabel=function(){return this.model.get("label")},n.prototype.shouldToggle=function(e){this.model.set("shouldToggle",e)},n.prototype.destroy=function(){return this.model.off("change"),this.model.destroy(),this.model=null,this.$el.off("click"),this.$el.off("mouseover"),this.$el.off("mouseout"),this.__super__.prototype.destroy(!0)},n});