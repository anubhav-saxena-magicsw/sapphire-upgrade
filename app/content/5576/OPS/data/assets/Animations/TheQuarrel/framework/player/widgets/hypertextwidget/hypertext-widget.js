!function(t){t.widget("HAF.HyperTextWidget",{options:{maxWidth:200,leftGap:30,topGap:30},_create:function(){var e,s,o=t("<span id='hyperText'> </span>"),p=t("<div id='closeBtn'></div>");e=this,this.element.find("a").each(function(a,i){t.trim(t(i).attr("hyper-text")).length>0&&(require(["css!player/widgets/hypertextwidget/css/hypertext-widget.css"],function(){}),t(i).off("click").on("click",function(){o.html(t(i).attr("hyper-text")),o.attr("class",""),t.trim(t(i).attr("style-class")).length>0?o.addClass(t(i).attr("style-class")):o.addClass("hypertextwidget"),p.attr("class",""),t.trim(t(i).attr("close-style-class")).length>0?p.addClass(t(i).attr("close-style-class")):p.addClass("hypertextwidgetcloseBtn"),o.append(p),o.css("position","absolute"),o.prop("originator-el",t(i)),o.css("left",t(this).offset().left-e.options.leftGap+"px"),o.css("top",t(this).offset().top+e.options.topGap+"px"),o.css("max-width",e.options.maxWidth+"px"),void 0!==t(i).attr("left-gap")&&isNaN(parseFloat(t(i).attr("left-gap")))===!1&&o.css("left",t(this).offset().left-parseFloat(t(i).attr("left-gap"))+"px"),void 0!==t(i).attr("top-gap")&&isNaN(parseFloat(t(i).attr("top-gap")))===!1&&o.css("top",t(this).offset().top+parseFloat(t(i).attr("top-gap"))+"px"),void 0!==t(i).attr("max-width")&&isNaN(parseFloat(t(i).attr("max-width")))===!1&&o.css("max-width",parseFloat(t(i).attr("max-width"))+"px"),e.close(),t("#mActivity").append(o),e.popupDiv=o,e.closeBtn=p,p.on("click",function(){e.close()}),s=o.HyperTextWidget(e.options),o.prop("objRecursive",s)}))}),t(window).resize(function(){e.reposition()})},reposition:function(){var e,s,o,p;e=this.popupDiv,void 0!==e&&void 0!==e.prop("originator-el")&&(p=e.prop("originator-el"),s=t(p).offset().left,o=t(p).offset().top,e.css("left",s-this.options.leftGap+"px"),e.css("top",o+this.options.topGap+"px"),void 0!==t(p).attr("left-gap")&&isNaN(parseFloat(t(p).attr("left-gap")))===!1&&e.css("left",s-parseFloat(t(p).attr("left-gap"))+"px"),void 0!==t(p).attr("top-gap")&&isNaN(parseFloat(t(p).attr("top-gap")))===!1&&e.css("top",o+parseFloat(t(p).attr("top-gap"))+"px"))},close:function(){var t,e;t=this.popupDiv,e=this.closeBtn,void 0!==t&&void 0!==e&&(void 0!==t.prop("objRecursive")&&t.prop("objRecursive").HyperTextWidget("close"),e.off("click"),t.remove()),delete this.popupDiv,delete this.closeBtn},_destroy:function(){this.close(),this.element.find("a").each(function(e,s){t(s).off("click")})}})}(jQuery);