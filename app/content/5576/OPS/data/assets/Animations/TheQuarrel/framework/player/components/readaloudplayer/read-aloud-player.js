define(["marionette","player/base/base-layout-comp","components/readaloudplayer/js/read-aloud-player-helper","text!components/readaloudplayer/template/read-aloud-player.html","css!components/readaloudplayer/template/css/read-aloud-player.css","components/readaloudplayer/model/read-aloud-player-model"],function(e,t,o,a,s,l){var n=t.extend({template:_.template(a),regions:{audioPlayerParent:"#audioPlayerParent",hotSpotsParent:"#hotSpotsParent"},initialize:function(e){var t=this;void 0===this.model&&this.setModel(e),this.model instanceof l&&this.model.on("change",function(){t.onMyModelChange()}),o.initComponent(this)},onRender:function(){},onShow:function(){this.audioPlayerParent.show(this.model.get("audioPlayerRef")),this.members.areHotSpotsEventsApplied||(o.applyEventOnHotSpots(),this.members.areHotSpotsEventsApplied=!0)},onMyModelChange:function(){this.render()},members:{areHotSpotsEventsApplied:!1}});return n.prototype.setModel=function(e){this.model=new l,void 0!==e.xmlPath&&this.model.set("xmlPath",e.xmlPath)},n.prototype.play=function(){o.objAudioPlayer.play()},n.prototype.pause=function(){o.objAudioPlayer.pause()},n.prototype.stop=function(){o.objAudioPlayer.stop()},n.prototype._super=t,n.prototype.destroy=function(){o.destroy(),this.model.off("change"),this.model.set("audioPlayerRef",null),this.model.set("audioSource",[]),this.model.set("xmlPath",""),this.model.set("strHotSpots","");for(var e=this.model.get("map");e.length>0;)e.pop();return this.model.set("map",[]),this.hotSpotsParent.close(),this.model.destroy(),this.model=null,this._super.prototype.destroy(!0)},n});